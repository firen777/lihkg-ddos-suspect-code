webpackJsonp([6],{1040:function(e,t,r){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o),s=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=r(14),d=r.n(c),p=r(1),l=r.n(p),h=r(1102),u=r(7),f=r(5),m=r(18),g=r(3),b=r(6),y=r(1105),v=r.n(y),w=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),k=function(e){return{darkMode:Object(m.d)(e).darkMode}},x={loginUser:u.L,displayMessage:u.q},E=function(e){function t(){var e,r,s,c,p=this;o(this,t);for(var l=arguments.length,h=Array(l),u=0;u<l;u++)h[u]=arguments[u];return r=s=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(h))),s.state={email:"",password:"",isLoading:!1,showForgotPasswordModal:!1,showEmailModal:!1,recaptchaResponse:null},s.onRecaptchaVerify=function(e){s.setState({recaptchaResponse:e})},s.onRecaptchaExpire=function(){s.setState({recaptchaResponse:null}),s.recaptchaRef.reset()},s.handleChange=function(e){var t=e.target,r=t.name,n=t.value;s.setState(a({},r,n))},s.handleKeyPress=function(e){13!==e.which&&13!==e.keyCode||s.handleLogin(e)},s.handleLogin=function(){var e=n(d.a.mark(function e(t){var r,n,a,o,i,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=s.state,n=r.recaptchaResponse,a=r.email,o=r.password,a&&o){e.next=5;break}return s.props.displayMessage("\u8acb\u8f38\u5165\u96fb\u90f5\u53ca\u5bc6\u78bc",3e3),e.abrupt("return");case 5:if(i=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,a.match(i)){e.next=9;break}return s.props.displayMessage("\u8f38\u5165\u7684\u96fb\u90f5\u5730\u5740\u7121\u6548",3e3),e.abrupt("return");case 9:if(n){e.next=12;break}return s.props.displayMessage("\u8acb\u9ede\u64ca\u8a8d\u8b49\u78bc",3e3),e.abrupt("return");case 12:if(s.state.isLoading){e.next=18;break}return s.setState({isLoading:!0}),e.next=16,s.props.loginUser(s.state.email,s.state.password,n);case 16:c=e.sent,c.success||(s.setState({isLoading:!1}),s.onRecaptchaExpire());case 18:case"end":return e.stop()}},e,p)}));return function(t){return e.apply(this,arguments)}}(),s.toggleForgotPasswordModal=function(e){e.preventDefault(),s.setState(function(e){return{showForgotPasswordModal:!e.showForgotPasswordModal}})},s.toggleEmailModal=function(e){e.preventDefault(),s.setState(function(e){return{showEmailModal:!e.showEmailModal}})},c=r,i(s,c)}return s(t,e),w(t,[{key:"componentDidUpdate",value:function(e){var t=e.visible;this.props.visible&&!t?(b.b.disableScrolling(),this.email.focus(),this.setState({email:"",password:"",recaptchaResponse:null}),this.recaptchaRef.reset()):!this.props.visible&&t&&b.b.enableScrolling()}},{key:"componentWillUnmount",value:function(){b.b.enableScrolling()}},{key:"render",value:function(){var e=this,t=this.state,r=t.email,n=t.password,a=t.showRegisterModal,o=t.showForgotPasswordModal,i=t.showEmailModal,s=t.isLoading,c=this.props,d=c.visible,u=c.onClose,f=c.darkMode;return l.a.createElement(p.Fragment,null,l.a.createElement(g.q,{footerActions:[l.a.createElement("a",{key:"signup",href:"https://lihkg.com/register",target:"_blank",rel:"noreferrer noopener"},"\u6703\u54e1\u8a3b\u518a"),l.a.createElement("a",{key:"signin",href:"#login",className:s?v.a.disable:"",onClick:this.handleLogin},s?"\u767b\u5165\u4e2d...":"\u767b\u5165")],visible:d&&!a,onClose:u},l.a.createElement("form",{action:"#",className:v.a.form,onSubmit:this.handleLogin},l.a.createElement("div",{className:v.a.banner}),l.a.createElement("br",null),l.a.createElement(g.k.Input,{inputRef:function(t){e.email=t},type:"email",name:"email",placeholder:"\u767b\u5165\u96fb\u90f5",value:r,onChange:this.handleChange,autoComplete:"off",onKeyPress:this.handleKeyPress}),l.a.createElement("br",null),l.a.createElement(g.k.Input,{type:"password",name:"password",placeholder:"\u5bc6\u78bc",value:n,onChange:this.handleChange,autoComplete:"off",onKeyPress:this.handleKeyPress}),l.a.createElement("br",null),l.a.createElement("div",{className:v.a.actionsContainer},l.a.createElement("a",{className:v.a.resendEmail,href:"https://lihkg.com/resend-activate-email",target:"_blank",rel:"noopener noreferrer",onClick:this.toggleEmailModal},"\u91cd\u65b0\u767c\u9001\u9a57\u8a3c\u96fb\u90f5"),l.a.createElement("a",{className:v.a.forgetPassword,href:"https://lihkg.com/forget-password",target:"_blank",rel:"noopener noreferrer",onClick:this.toggleForgotPasswordModal},"\u5fd8\u8a18\u5bc6\u78bc\uff1f")),l.a.createElement("br",null),l.a.createElement("div",{style:{width:"304px",height:"78px"}},l.a.createElement(h.a,{ref:function(t){e.recaptchaRef=t},sitekey:"6Lf_9BsUAAAAAHlQrVfieO3oCoOXC5ndsRm88uGV",theme:f?"dark":"light",onChange:this.onRecaptchaVerify,onExpired:this.onRecaptchaExpire,hl:"zh-HK"})))),l.a.createElement(g.q,{title:"\u5fd8\u8a18\u5bc6\u78bc",visible:o,onClose:this.toggleForgotPasswordModal,bodyStyle:{padding:0}},l.a.createElement("iframe",{src:"https://lihkg.com/forget-password#"+(f?"dark":"light"),frameBorder:"0"})),l.a.createElement(g.q,{title:"\u91cd\u65b0\u767c\u9001\u9a57\u8a3c\u96fb\u90f5",visible:i,onClose:this.toggleEmailModal,bodyStyle:{padding:0}},l.a.createElement("iframe",{src:"https://lihkg.com/resend-activate-email#"+(f?"dark":"light"),frameBorder:"0"})))}}]),t}(l.a.PureComponent);t.default=Object(f.b)(k,x)(E)},1077:function(e,t,r){"use strict";function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}r.d(t,"a",function(){return l});var s=r(1),c=r.n(s),d=r(17),p=r.n(d),l=function(e){function t(){var t;return t=e.call(this)||this,t.handleExpired=t.handleExpired.bind(o(t)),t.handleErrored=t.handleErrored.bind(o(t)),t.handleRecaptchaRef=t.handleRecaptchaRef.bind(o(t)),t}i(t,e);var r=t.prototype;return r.getValue=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this.props.grecaptcha.getResponse(this._widgetId):null},r.getWidgetId=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this._widgetId:null},r.execute=function(){var e=this.props.grecaptcha;if(e&&void 0!==this._widgetId)return e.execute(this._widgetId);this._executeRequested=!0},r.reset=function(){this.props.grecaptcha&&void 0!==this._widgetId&&this.props.grecaptcha.reset(this._widgetId)},r.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.props.onChange&&this.props.onChange(null)},r.handleErrored=function(){this.props.onErrored&&this.props.onErrored()},r.explicitRender=function(){if(this.props.grecaptcha&&this.props.grecaptcha.render&&void 0===this._widgetId){var e=document.createElement("div");this._widgetId=this.props.grecaptcha.render(e,{sitekey:this.props.sitekey,callback:this.props.onChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge}),this.captcha.appendChild(e)}this._executeRequested&&this.props.grecaptcha&&void 0!==this._widgetId&&(this._executeRequested=!1,this.execute())},r.componentDidMount=function(){this.explicitRender()},r.componentDidUpdate=function(){this.explicitRender()},r.componentWillUnmount=function(){void 0!==this._widgetId&&(this.delayOfCaptchaIframeRemoving(),this.reset())},r.delayOfCaptchaIframeRemoving=function(){var e=document.createElement("div");for(document.body.appendChild(e),e.style.display="none";this.captcha.firstChild;)e.appendChild(this.captcha.firstChild);setTimeout(function(){document.body.removeChild(e)},5e3)},r.handleRecaptchaRef=function(e){this.captcha=e},r.render=function(){var e=this.props,t=(e.sitekey,e.onChange,e.theme,e.type,e.tabindex,e.onExpired,e.onErrored,e.size,e.stoken,e.grecaptcha,e.badge,e.hl,a(e,["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl"]));return c.a.createElement("div",n({},t,{ref:this.handleRecaptchaRef}))},t}(c.a.Component);l.displayName="ReCAPTCHA",l.propTypes={sitekey:p.a.string.isRequired,onChange:p.a.func,grecaptcha:p.a.object,theme:p.a.oneOf(["dark","light"]),type:p.a.oneOf(["image","audio"]),tabindex:p.a.number,onExpired:p.a.func,onErrored:p.a.func,size:p.a.oneOf(["compact","normal","invisible"]),stoken:p.a.string,hl:p.a.string,badge:p.a.oneOf(["bottomright","bottomleft","inline"])},l.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"}},1102:function(e,t,r){"use strict";var n=r(1103);r(1077);t.a=n.a},1103:function(e,t,r){"use strict";function n(){return"undefined"!==typeof window&&window.recaptchaOptions||{}}function a(){return"https://"+(n().useRecaptchaNet?"recaptcha.net":"www.google.com")+"/recaptcha/api.js?onload="+s+"&render=explicit"}var o=r(1077),i=r(1104),s="onloadcallback";t.a=Object(i.a)(a,{callbackName:s,globalName:"grecaptcha"})(o.a)},1104:function(e,t,r){"use strict";function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function i(e,t){return t=t||{},function(r){var i=r.displayName||r.name||"Component",c=function(n){function i(e,t){var r;return r=n.call(this,e,t)||this,r.state={},r.__scriptURL="",r}o(i,n);var c=i.prototype;return c.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+u++),this.__scriptLoaderID},c.setupScriptURL=function(){return this.__scriptURL="function"===typeof e?e():e,this.__scriptURL},c.asyncScriptLoaderHandleLoad=function(e){var t=this;this.setState(e,function(){return t.props.asyncScriptOnLoad&&t.props.asyncScriptOnLoad(t.state)})},c.asyncScriptLoaderTriggerOnScriptLoaded=function(){var e=h[this.__scriptURL];if(!e||!e.loaded)throw new Error("Script is not loaded.");for(var r in e.observers)e.observers[r](e);delete window[t.callbackName]},c.componentDidMount=function(){var e=this,r=this.setupScriptURL(),n=this.asyncScriptLoaderGetScriptLoaderID(),a=t,o=a.globalName,i=a.callbackName,s=a.scriptId;if(o&&"undefined"!==typeof window[o]&&(h[r]={loaded:!0,observers:{}}),h[r]){var c=h[r];return c&&(c.loaded||c.errored)?void this.asyncScriptLoaderHandleLoad(c):void(c.observers[n]=function(t){return e.asyncScriptLoaderHandleLoad(t)})}var d={};d[n]=function(t){return e.asyncScriptLoaderHandleLoad(t)},h[r]={loaded:!1,observers:d};var p=document.createElement("script");p.src=r,p.async=!0,s&&(p.id=s);var l=function(e){if(h[r]){var t=h[r],n=t.observers;for(var a in n)e(n[a])&&delete n[a]}};i&&"undefined"!==typeof window&&(window[i]=function(){return e.asyncScriptLoaderTriggerOnScriptLoaded()}),p.onload=function(){var e=h[r];e&&(e.loaded=!0,l(function(t){return!i&&(t(e),!0)}))},p.onerror=function(){var e=h[r];e&&(e.errored=!0,l(function(t){return t(e),!0}))},document.body.appendChild(p)},c.componentWillUnmount=function(){var e=this.__scriptURL;if(!0===t.removeOnUnmount)for(var r=document.getElementsByTagName("script"),n=0;n<r.length;n+=1)r[n].src.indexOf(e)>-1&&r[n].parentNode&&r[n].parentNode.removeChild(r[n]);var a=h[e];a&&(delete a.observers[this.asyncScriptLoaderGetScriptLoaderID()],!0===t.removeOnUnmount&&delete h[e])},c.render=function(){var e=t.globalName,n=this.props,o=(n.asyncScriptOnLoad,n.forwardedRef),i=a(n,["asyncScriptOnLoad","forwardedRef"]);return e&&"undefined"!==typeof window&&(i[e]="undefined"!==typeof window[e]?window[e]:void 0),i.ref=o,Object(s.createElement)(r,i)},i}(s.Component),p=Object(s.forwardRef)(function(e,t){return Object(s.createElement)(c,n({},e,{forwardedRef:t}))});return p.displayName="AsyncScriptLoader("+i+")",p.propTypes={asyncScriptOnLoad:d.a.func},l()(p,r)}}t.a=i;var s=r(1),c=(r.n(s),r(17)),d=r.n(c),p=r(358),l=r.n(p),h={},u=0},1105:function(e,t,r){var n=r(1106);"string"===typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0};a.transform=void 0,a.insertInto=void 0;r(1032)(n,a);n.locals&&(e.exports=n.locals)},1106:function(e,t,r){var n=r(1033);t=e.exports=r(1031)(!1),t.push([e.i,".fZrQ-JOhcAqBseUp0k4BQ{background:url("+n(r(1107))+") 50% no-repeat;background-color:#dbdbdb;background-size:cover;border-bottom:1px solid rgba(128,128,128,.25);border-radius:4px 4px 0 0;height:144px;margin:-1rem 0 0 -1rem;width:calc(100% + 1rem * 2)}[data-app-dm] .fZrQ-JOhcAqBseUp0k4BQ{background-color:#1d1d1d}@media (max-width:767px){.fZrQ-JOhcAqBseUp0k4BQ{margin:-1rem 0 0 -1rem;width:calc(100% + 1rem * 2)}}.VdIzUkVVdckQewTfEfpxo{-webkit-flex:1 1;-ms-flex:1 1;flex:1 1;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto}.VdIzUkVVdckQewTfEfpxo input{width:97%}._1O_zro4frlyw2HXGJHVxLF{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-top:.6rem}._1O_zro4frlyw2HXGJHVxLF a:hover{color:#666;text-decoration:none}._1PHah_Mw_J9UhXHn698lT0,.MhD1YGecYBLwia2NEH-O4{color:#aaa;display:inline-block;font-size:.8rem;padding:0 .6rem}a._34cUtoG0T0YVrAhtYdrX-V{color:#aaa}[data-app-dm] a._34cUtoG0T0YVrAhtYdrX-V{color:#888}",""]),t.locals={banner:"fZrQ-JOhcAqBseUp0k4BQ",form:"VdIzUkVVdckQewTfEfpxo",actionsContainer:"_1O_zro4frlyw2HXGJHVxLF",forgetPassword:"_1PHah_Mw_J9UhXHn698lT0",resendEmail:"MhD1YGecYBLwia2NEH-O4",disable:"_34cUtoG0T0YVrAhtYdrX-V"}},1107:function(e,t,r){e.exports=r.p+"static/1908265553-qp489/media/login-banner.png"}});